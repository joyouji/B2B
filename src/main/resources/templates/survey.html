<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>설문조사</title>
    <style>
        table {
            border-collapse: collapse;
            width: 45%;
        }
        th, td {
            border: 1px solid #dddddd;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        .question-cell {
            text-align: left;
        }
        .answer-cell {
            width: 50px;
        }
    </style>
</head>
<body>
<h2>설문조사</h2>
<p>지난 2주 동안 다음과 같은 문제를 얼마나 자주 겪었는지 해당되는 항목에 표시해주세요.</p>
    <form action="/save-survey" id="surveyForm" method="post">
    <table>
        <tr>
            <th class="question-cell">질문</th>
            <th class="answer-cell">전혀 없음</th>
            <th class="answer-cell">며칠 동안</th>
            <th class="answer-cell">1주일 이상</th>
            <th class="answer-cell">거의 매일</th>
        </tr>
        <tr>
            <td class="question-cell">1. 매사에 흥미나 즐거움이 거의 없다.</td>
            <td class="answer-cell">
                <input type="radio" id="answer1-1" name="answer1" value="0">
                <label for="answer1-1">0</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer1-2" name="answer1" value="1">
                <label for="answer1-2">1</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer1-3" name="answer1" value="2">
                <label for="answer1-3">2</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer1-4" name="answer1" value="3">
                <label for="answer1-4">3</label>
            </td>
        </tr>
        <tr>
            <td class="question-cell">2. 기분이 가라앉거나 우울하거나 희망이 없다고 느낀다.</td>
            <td class="answer-cell">
                <input type="radio" id="answer2-1" name="answer2" value="0">
                <label for="answer2-1">0</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer2-2" name="answer2" value="1">
                <label for="answer2-2">1</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer2-3" name="answer2" value="2">
                <label for="answer2-3">2</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer2-4" name="answer2" value="3">
                <label for="answer2-4">3</label>
            </td>
        </tr>
        <tr>
            <td class="question-cell">3. 잠들기 어렵거나 자주깬다/혹은 잠을 너무 많이 잔다.</td>
            <td class="answer-cell">
                <input type="radio" id="answer3-1" name="answer3" value="0">
                <label for="answer3-1">0</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer3-2" name="answer3" value="1">
                <label for="answer3-2">1</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer3-3" name="answer3" value="2">
                <label for="answer3-3">2</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer3-4" name="answer3" value="3">
                <label for="answer3-4">3</label>
            </td>
        </tr>
        <tr>
            <td class="question-cell">4. 피곤하다고 느끼거나 기운이 거의 없다.</td>
            <td class="answer-cell">
                <input type="radio" id="answer4-1" name="answer4" value="0">
                <label for="answer4-1">0</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer4-2" name="answer4" value="1">
                <label for="answer4-2">1</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer4-3" name="answer4" value="2">
                <label for="answer4-3">2</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer4-4" name="answer4" value="3">
                <label for="answer4-4">3</label>
            </td>
        </tr>
        <tr>
            <td class="question-cell">5. 식욕이 줄었다/혹은 너무 많이 먹는다.</td>
            <td class="answer-cell">
                <input type="radio" id="answer5-1" name="answer5" value="0">
                <label for="answer5-1">0</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer5-2" name="answer5" value="1">
                <label for="answer5-2">1</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer5-3" name="answer5" value="2">
                <label for="answer5-3">2</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer5-4" name="answer5" value="3">
                <label for="answer5-4">3</label>
            </td>
        </tr>
        <tr>
            <td class="question-cell">6. 내 자신이 실패자로 여겨지거나 자신과 가족을 실망시켰다고 느낀다.</td>
            <td class="answer-cell">
                <input type="radio" id="answer6-1" name="answer6" value="0">
                <label for="answer6-1">0</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer6-2" name="answer6" value="1">
                <label for="answer6-2">1</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer6-3" name="answer6" value="2">
                <label for="answer6-3">2</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer6-4" name="answer6" value="3">
                <label for="answer6-4">3</label>
            </td>
        </tr>
        <tr>
            <td class="question-cell">7. 신문을 읽거나 TV를 보는 것과 같은 일상적인 일에 집중하기 어렵다.</td>
            <td class="answer-cell">
                <input type="radio" id="answer7-1" name="answer7" value="0">
                <label for="answer7-1">0</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer7-2" name="answer7" value="1">
                <label for="answer7-2">1</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer7-3" name="answer7" value="2">
                <label for="answer7-3">2</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer7-4" name="answer7" value="3">
                <label for="answer7-4">3</label>
            </td>
        </tr>
        <tr>
            <td class="question-cell">8. 다른 사람들이 눈치 챌 정도로 평소보다 말과 행동이 느리다/혹은 너무 안절부절 못해서 가만히 앉아 있을 수 없다.</td>
            <td class="answer-cell">
                <input type="radio" id="answer8-1" name="answer8" value="0">
                <label for="answer8-1">0</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer8-2" name="answer8" value="1">
                <label for="answer8-2">1</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer8-3" name="answer8" value="2">
                <label for="answer8-3">2</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer8-4" name="answer8" value="3">
                <label for="answer8-4">3</label>
            </td>
        </tr>
        <tr>
            <td class="question-cell">9. 차라리 죽는 것이 낫겠다고 생각하거나 어떻게든 자해를 하려고 생각한다.</td>
            <td class="answer-cell">
                <input type="radio" id="answer9-1" name="answer9" value="0">
                <label for="answer9-1">0</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer9-2" name="answer9" value="1">
                <label for="answer9-2">1</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer9-3" name="answer9" value="2">
                <label for="answer9-3">2</label>
            </td>
            <td class="answer-cell">
                <input type="radio" id="answer9-4" name="answer9" value="3">
                <label for="answer9-4">3</label>
            </td>
        </tr>
    </table>
    <h3>이번 달의 목표</h3>
    <label for="exerciseSelect">운동 선택:</label>
    <select id="exerciseSelect" name="exercise">
        <option value="pushups">팔굽혀펴기</option>
        <option value="run">달리기</option>
    </select>
    &nbsp;&nbsp;
    <label for="goalInput">목표 횟수(분):</label>
    <input type="number" id="goalInput" name="goal" min="1" max="100" required>
    <br><br>
    <button type="submit">제출</button>
    </form>
<!-- 모든 설문에 답하게 하는 스크립트 -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var form = document.getElementById("surveyForm");

        form.addEventListener("submit", function(event) {
            var questions = form.querySelectorAll(".question-cell");
			var answers = form.querySelectorAll(".answer-cell");
            var checkedCount = 1; //표 맨 위 '질문' 제외

            answers.forEach(function(answer) {
                var radioButtons = answer.querySelectorAll("input[type=radio]");
                var isChecked = Array.from(radioButtons).some(function(radioButton) {
                    return radioButton.checked;
                });

                if (isChecked) {
                    checkedCount++;
                }
            });

            if (checkedCount !== questions.length) {
                alert("모든 항목에 답해야 합니다.");
                event.preventDefault();
            }
        });
    });
</script>
</body>
</html>